# 服务器清理Mod（自用）

**清理机制：**

每20天（默认，可调整）检查地面的物品
地面的物品第一次被检查，会添加标记
被添加标记的物品在第二次检查时会被清理
这意味着地面物品至少20天以上才会被清理

清理的日期是1、5、10、20、30、40、60、80、100，以此类推

白名单模式：只会清理地面且不包含在白名单的物品
黑名单模式：只会包含在黑名单的物品

箱子及玩家身上，或者白名单里的物品，或者茶几附近的物品不会被清理（不想被清理请放在箱子里）

另外，服务器重启会使物品标记丢失

**手动清理**

在控制台执行 `DoRemove()` 即可出发一次清理检查。如果想做一个完整的清理，那么需要运行两次这段代码。

**白名单:**

- 小动物：兔子、鼹鼠、萤火虫之类
- 唯一的物件：远古钥匙、切斯特眼骨、天体灵球之类
- 雕像
- 打包好的包裹和礼物
- 鹿角
- 陷阱、狗牙陷阱、海星
- 书
- 月眼
- 鞍
- 芝士蛋糕
- 南瓜灯
- 海带
- 浮木
- 排箫
- 触手棒和触手皮
- 影刀
- 影甲
- 骨盔
- 骨甲
- 暗影香炉
- 化石碎片
- 暗影心脏
- 生命护符
- 救赎之心
- 暖石
- 唤星法杖、喚月法杖
- 步行手杖、瞬移手杖
- 格罗姆燃料
- 食人花种子
- 蜂王帽
- 贝壳钟
- 渔具箱

Y你可以打开mod文件夹，找到一个叫做whitelist.txt的文件。把物品的代码名添加进去即可。每行一个物品，不要添加空格，例如：

`
poop
log
cutgrass
twigs
axe
`

感谢 [gene9831](https://github.com/gene9831) ，现在引入黑名单模式。你可以在本mod的文件夹内修改`blacklist.txt`，方法与白名单类似。

**请备份 `whitelist.txt` 和 `blacklist.txt` 因为每次mod更新后这两个文件都会被清空！**
**请备份 `whitelist.txt` 和 `blacklist.txt` 因为每次mod更新后这两个文件都会被清空！**
**请备份 `whitelist.txt` 和 `blacklist.txt` 因为每次mod更新后这两个文件都会被清空！**

查询物品对应的代码：[点击跳转](https://zhuanlan.zhihu.com/p/34134405?utm_medium=social)

## 更新日志

### 版本1.8.1
- 黑名单添加：粪便、鸟便、腐烂的蛋、松果、节日
- blacklist.txt 文件添加：幸运黄金（活动金元宝）、红包、节日红包

### 版本1.8.0
- 船的清理改为一段时间内附近都没有玩家出现

### 版本1.7.4
- 添加手动清理功能

### 版本1.7.3
- 添加黑名单模式

### 版本1.7.1
- 把贝壳钟及渔具箱添加到白名单

### 版本1.7.0
- 玩家现在可以自己添加白名单了

### 版本1.6.0
- 船一段时间没有登陆后会清理，该功能默认关闭

### 版本1.5.0
- 浮在海面的东西无论是否在白名单内都会被清理

### 版本1.4.0
- 使用过触手棒、影刀和影甲会被清理

### 版本1.3.0
- 茶几附近的物品不会被清理，可以关闭该功能

### 版本1.2.1
- 可修改清理检查周期

## License

Released under the [GNU GENERAL PUBLIC LICENSE](https://www.gnu.org/licenses/gpl-3.0.en.html)

## 源代码

GitHub源代码: https://github.com/jupitersh/dst-mod-strong-cleaner
